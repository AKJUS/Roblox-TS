import{p as e,g as o,_ as t}from"./createTheme-1ca289da.js";import{_ as n}from"./extends-64d70faf.js";import*as r from"react";import{a as s,s as l,c as a}from"./styled-0a99a76f.js";import{u as c}from"./useThemeProps-589cc86d.js";import{jsxs as i,jsx as d}from"react/jsx-runtime";import{M as u}from"./Backdrop-a48b793d.js";import{o as p}from"./ownerDocument-1b00e83d.js";import{o as f}from"./ownerWindow-09cfaf62.js";import{g as m}from"./generateUtilityClasses-802dc398.js";import{P as b,u as h}from"./Portal-ded6c112.js";import{u as y}from"./useForkRef-ab32d86c.js";import{u as E}from"./useEventCallback-f3156adc.js";import{c as k}from"./createChainedFunction-f1412e77.js";import{u as v,r as T}from"./useSlotProps-05db0b0f.js";import{e as g}from"./elementAcceptingRef-3d873b2e.js";import{e as R}from"./exactProp-9d31983c.js";import{H as x}from"./HTMLElementType-8f75b2ec.js";import{i as F}from"./isHostComponent-a099d68d.js";function P(e){const o=e.documentElement.clientWidth;return Math.abs(window.innerWidth-o)}const A=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function w(e){const o=[],t=[];return Array.from(e.querySelectorAll(A)).forEach(((e,n)=>{const r=function(e){const o=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(o)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:o}(e);-1!==r&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const o=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let t=o(`[name="${e.name}"]:checked`);return t||(t=o(`[name="${e.name}"]`)),t!==e}(e))}(e)&&(0===r?o.push(e):t.push({documentOrder:n,tabIndex:r,node:e}))})),t.sort(((e,o)=>e.tabIndex===o.tabIndex?e.documentOrder-o.documentOrder:e.tabIndex-o.tabIndex)).map((e=>e.node)).concat(o)}function N(){return!0}function O(e){const{children:o,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:l=w,isEnabled:a=N,open:c}=e,u=r.useRef(!1),f=r.useRef(null),m=r.useRef(null),b=r.useRef(null),h=r.useRef(null),E=r.useRef(!1),k=r.useRef(null),v=y(o.ref,k),T=r.useRef(null);r.useEffect((()=>{c&&k.current&&(E.current=!t)}),[t,c]),r.useEffect((()=>{if(!c||!k.current)return;const e=p(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||("production"!==process.env.NODE_ENV&&console.error(["MUI: The modal content node does not accept focus.",'For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'].join("\n")),k.current.setAttribute("tabIndex","-1")),E.current&&k.current.focus()),()=>{s||(b.current&&b.current.focus&&(u.current=!0,b.current.focus()),b.current=null)}}),[c]),r.useEffect((()=>{if(!c||!k.current)return;const e=p(k.current),o=o=>{const{current:t}=k;if(null!==t)if(e.hasFocus()&&!n&&a()&&!u.current){if(!t.contains(e.activeElement)){if(o&&h.current!==o.target||e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!E.current)return;let n=[];if(e.activeElement!==f.current&&e.activeElement!==m.current||(n=l(k.current)),n.length>0){var r,s;const e=Boolean((null==(r=T.current)?void 0:r.shiftKey)&&"Tab"===(null==(s=T.current)?void 0:s.key)),o=n[0],t=n[n.length-1];"string"!=typeof o&&"string"!=typeof t&&(e?t.focus():o.focus())}else t.focus()}}else u.current=!1},t=o=>{T.current=o,!n&&a()&&"Tab"===o.key&&e.activeElement===k.current&&o.shiftKey&&(u.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",o),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&o(null)}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",o),e.removeEventListener("keydown",t,!0)}}),[t,n,s,a,c,l]);const g=e=>{null===b.current&&(b.current=e.relatedTarget),E.current=!0};return i(r.Fragment,{children:[d("div",{tabIndex:c?0:-1,onFocus:g,ref:f,"data-testid":"sentinelStart"}),r.cloneElement(o,{ref:v,onFocus:e=>{null===b.current&&(b.current=e.relatedTarget),E.current=!0,h.current=e.target;const t=o.props.onFocus;t&&t(e)}}),d("div",{tabIndex:c?0:-1,onFocus:g,ref:m,"data-testid":"sentinelEnd"})]})}function S(e,o){o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function I(e){return parseInt(f(e).getComputedStyle(e).paddingRight,10)||0}function j(e,o,t,n,r){const s=[o,t,...n];[].forEach.call(e.children,(e=>{const o=-1===s.indexOf(e),t=!function(e){const o=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),t="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return o||t}(e);o&&t&&S(e,r)}))}function M(e,o){let t=-1;return e.some(((e,n)=>!!o(e)&&(t=n,!0))),t}function C(e,o){const t=[],n=e.container;if(!o.disableScrollLock){if(function(e){const o=p(e);return o.body===e?f(e).innerWidth>o.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=P(p(n));t.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${I(n)+e}px`;const o=p(n).querySelectorAll(".mui-fixed");[].forEach.call(o,(o=>{t.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${I(o)+e}px`}))}let e;if(n.parentNode instanceof DocumentFragment)e=p(n).body;else{const o=n.parentElement,t=f(n);e="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===t.getComputedStyle(o).overflowY?o:n}t.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{t.forEach((({value:e,el:o,property:t})=>{e?o.style.setProperty(t,e):o.style.removeProperty(t)}))}}"production"!==process.env.NODE_ENV&&(O.propTypes={children:g,disableAutoFocus:e.bool,disableEnforceFocus:e.bool,disableRestoreFocus:e.bool,getTabbable:e.func,isEnabled:e.func,open:e.bool.isRequired}),"production"!==process.env.NODE_ENV&&(O.propTypes=R(O.propTypes));function D(e){return o("MuiModal",e)}m("MuiModal",["root","hidden","backdrop"]);const B=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"];const L=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,o){let t=this.modals.indexOf(e);if(-1!==t)return t;t=this.modals.length,this.modals.push(e),e.modalRef&&S(e.modalRef,!1);const n=function(e){const o=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&o.push(e)})),o}(o);j(o,e.mount,e.modalRef,n,!0);const r=M(this.containers,(e=>e.container===o));return-1!==r?(this.containers[r].modals.push(e),t):(this.containers.push({modals:[e],container:o,restore:null,hiddenSiblings:n}),t)}mount(e,o){const t=M(this.containers,(o=>-1!==o.modals.indexOf(e))),n=this.containers[t];n.restore||(n.restore=C(n,o))}remove(e,o=!0){const t=this.modals.indexOf(e);if(-1===t)return t;const n=M(this.containers,(o=>-1!==o.modals.indexOf(e))),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&S(e.modalRef,o),j(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=r.modals[r.modals.length-1];e.modalRef&&S(e.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},K=r.forwardRef((function(e,o){var l,a;const{children:c,closeAfterTransition:u=!1,component:f,container:m,disableAutoFocus:T=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:R=!1,disablePortal:x=!1,disableRestoreFocus:F=!1,disableScrollLock:P=!1,hideBackdrop:A=!1,keepMounted:w=!1,manager:N=L,onBackdropClick:I,onClose:j,onKeyDown:M,open:C,onTransitionEnter:K,onTransitionExited:U,slotProps:q={},slots:_={}}=e,H=t(e,B),[V,W]=r.useState(!C),$=r.useRef({}),Y=r.useRef(null),z=r.useRef(null),G=y(z,o),X=function(e){return!!e&&e.props.hasOwnProperty("in")}(c),J=null==(l=e["aria-hidden"])||l,Q=()=>($.current.modalRef=z.current,$.current.mountNode=Y.current,$.current),Z=()=>{N.mount(Q(),{disableScrollLock:P}),z.current&&(z.current.scrollTop=0)},ee=E((()=>{const e=function(e){return"function"==typeof e?e():e}(m)||p(Y.current).body;N.add(Q(),e),z.current&&Z()})),oe=r.useCallback((()=>N.isTopModal(Q())),[N]),te=E((e=>{Y.current=e,e&&z.current&&(C&&oe()?Z():S(z.current,J))})),ne=r.useCallback((()=>{N.remove(Q(),J)}),[N,J]);r.useEffect((()=>()=>{ne()}),[ne]),r.useEffect((()=>{C?ee():X&&u||ne()}),[C,ne,X,u,ee]);const re=n({},e,{closeAfterTransition:u,disableAutoFocus:T,disableEnforceFocus:g,disableEscapeKeyDown:R,disablePortal:x,disableRestoreFocus:F,disableScrollLock:P,exited:V,hideBackdrop:A,keepMounted:w}),se=(e=>{const{open:o,exited:t}=e;return s({root:["root",!o&&t&&"hidden"],backdrop:["backdrop"]},h(D))})(re),le=()=>{W(!1),K&&K()},ae=()=>{W(!0),U&&U(),u&&ne()},ce={};void 0===c.props.tabIndex&&(ce.tabIndex="-1"),X&&(ce.onEnter=k(le,c.props.onEnter),ce.onExited=k(ae,c.props.onExited));const ie=null!=(a=null!=f?f:_.root)?a:"div",de=v({elementType:ie,externalSlotProps:q.root,externalForwardedProps:H,additionalProps:{ref:G,role:"presentation",onKeyDown:e=>{M&&M(e),"Escape"===e.key&&oe()&&(R||(e.stopPropagation(),j&&j(e,"escapeKeyDown")))}},className:se.root,ownerState:re}),ue=_.backdrop,pe=v({elementType:ue,externalSlotProps:q.backdrop,additionalProps:{"aria-hidden":!0,onClick:e=>{e.target===e.currentTarget&&(I&&I(e),j&&j(e,"backdropClick"))},open:C},className:se.backdrop,ownerState:re});return w||C||X&&!V?d(b,{ref:te,container:m,disablePortal:x,children:i(ie,n({},de,{children:[!A&&ue?d(ue,n({},pe)):null,d(O,{disableEnforceFocus:g,disableAutoFocus:T,disableRestoreFocus:F,isEnabled:oe,open:C,children:r.cloneElement(c,ce)})]}))}):null}));"production"!==process.env.NODE_ENV&&(K.propTypes={children:g.isRequired,closeAfterTransition:e.bool,component:e.elementType,container:e.oneOfType([x,e.func]),disableAutoFocus:e.bool,disableEnforceFocus:e.bool,disableEscapeKeyDown:e.bool,disablePortal:e.bool,disableRestoreFocus:e.bool,disableScrollLock:e.bool,hideBackdrop:e.bool,keepMounted:e.bool,onBackdropClick:e.func,onClose:e.func,onKeyDown:e.func,open:e.bool.isRequired,slotProps:e.shape({backdrop:e.oneOfType([e.func,e.object]),root:e.oneOfType([e.func,e.object])}),slots:e.shape({backdrop:e.elementType,root:e.elementType})});var U=K;const q=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],_=l("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,!t.open&&t.exited&&o.hidden]}})((({theme:e,ownerState:o})=>n({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&o.exited&&{visibility:"hidden"}))),H=l(u,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,o)=>o.backdrop})({zIndex:-1}),V=r.forwardRef((function(e,o){var s,l,i,u,p,f;const m=c({name:"MuiModal",props:e}),{BackdropComponent:b=H,BackdropProps:h,classes:y,className:E,closeAfterTransition:k=!1,children:v,component:g,components:R={},componentsProps:x={},disableAutoFocus:P=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:w=!1,disablePortal:N=!1,disableRestoreFocus:O=!1,disableScrollLock:S=!1,hideBackdrop:I=!1,keepMounted:j=!1,slotProps:M,slots:C,theme:D}=m,B=t(m,q),[L,K]=r.useState(!0),V={closeAfterTransition:k,disableAutoFocus:P,disableEnforceFocus:A,disableEscapeKeyDown:w,disablePortal:N,disableRestoreFocus:O,disableScrollLock:S,hideBackdrop:I,keepMounted:j},W=n({},m,V,{exited:L}),$=null!=(s=null!=(l=null==C?void 0:C.root)?l:R.Root)?s:_,Y=null!=(i=null!=(u=null==C?void 0:C.backdrop)?u:R.Backdrop)?i:b,z=null!=(p=null==M?void 0:M.root)?p:x.root,G=null!=(f=null==M?void 0:M.backdrop)?f:x.backdrop;return d(U,n({slots:{root:$,backdrop:Y},slotProps:{root:()=>n({},T(z,W),!F($)&&{as:g,theme:D},{className:a(E,null==z?void 0:z.className,null==y?void 0:y.root,!W.open&&W.exited&&(null==y?void 0:y.hidden))}),backdrop:()=>n({},h,T(G,W),{className:a(null==G?void 0:G.className,null==y?void 0:y.backdrop)})},onTransitionEnter:()=>K(!1),onTransitionExited:()=>K(!0),ref:o},B,V,{children:v}))}));"production"!==process.env.NODE_ENV&&(V.propTypes={BackdropComponent:e.elementType,BackdropProps:e.object,children:g.isRequired,classes:e.object,className:e.string,closeAfterTransition:e.bool,component:e.elementType,components:e.shape({Backdrop:e.elementType,Root:e.elementType}),componentsProps:e.shape({backdrop:e.oneOfType([e.func,e.object]),root:e.oneOfType([e.func,e.object])}),container:e.oneOfType([x,e.func]),disableAutoFocus:e.bool,disableEnforceFocus:e.bool,disableEscapeKeyDown:e.bool,disablePortal:e.bool,disableRestoreFocus:e.bool,disableScrollLock:e.bool,hideBackdrop:e.bool,keepMounted:e.bool,onBackdropClick:e.func,onClose:e.func,open:e.bool.isRequired,slotProps:e.shape({backdrop:e.oneOfType([e.func,e.object]),root:e.oneOfType([e.func,e.object])}),slots:e.shape({backdrop:e.elementType,root:e.elementType}),sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});var W=V;export{O as F,W as M,P as g};
