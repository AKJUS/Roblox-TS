import*as e from"react";let t,n=!0,r=!1;const i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function o(e){e.metaKey||e.altKey||e.ctrlKey||(n=!0)}function a(){n=!1}function u(){"hidden"===this.visibilityState&&r&&(n=!0)}function c(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return n||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!i[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function s(){const n=e.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",o,!0),t.addEventListener("mousedown",a,!0),t.addEventListener("pointerdown",a,!0),t.addEventListener("touchstart",a,!0),t.addEventListener("visibilitychange",u,!0))}),[]),i=e.useRef(!1);return{isFocusVisibleRef:i,onFocus:function(e){return!!c(e)&&(i.current=!0,!0)},onBlur:function(){return!!i.current&&(r=!0,window.clearTimeout(t),t=window.setTimeout((()=>{r=!1}),100),i.current=!1,!0)},ref:n}}export{s as u};
