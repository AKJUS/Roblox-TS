import{_ as e,a as o}from"../tslib.es6-867fbf56.js";import*as t from"react";import n,{forwardRef as a}from"react";import r from"../styles/makeStyles.js";import s from"../theme/typography.js";import i from"../utils/combineOverrides.js";import{t as c,u as l,D as d,g as p}from"../treeItemClasses-078aa536.js";import{_ as m,p as u}from"../createTheme-1ca289da.js";import{_ as f}from"../extends-64d70faf.js";import{c as g,s as b,a as C}from"../styled-0a99a76f.js";import{T as h}from"../TreeViewContext-11d6046e.js";import{u as y}from"../useTreeItem-967d1da3.js";import{jsxs as v,jsx as I}from"react/jsx-runtime";import{C as j}from"../Collapse-d3e307b5.js";import{u as x}from"../useThemeProps-589cc86d.js";import{u as T}from"../useForkRef-ab32d86c.js";import{e as k}from"../elementTypeAcceptingRef-7d38611f.js";import{u as N}from"../unsupportedProp-96229f27.js";import{o as w}from"../ownerDocument-1b00e83d.js";import{a as O}from"../colorManipulator-b4923cce.js";import"../index-27c94334.js";import"../emotion-serialize.esm-3f263cb4.js";import"@emotion/react";import"../useTheme-2928209d.js";import"../defaultTheme-954a2e17.js";import"../useThemeWithoutDefault-4f1f2b65.js";import"../index-032eaac0.js";import"../useEnhancedEffect-6310da44.js";import"../generateUtilityClasses-802dc398.js";import"../utils-74c3074e.js";import"../TransitionGroupContext-8d33cdcf.js";import"react-dom";import"../getThemeProps-2fc6689f.js";import"../chainPropTypes-cf63f620.js";const $=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],M=t.forwardRef((function(e,o){const{classes:t,className:n,displayIcon:a,expansionIcon:r,icon:s,label:i,nodeId:c,onClick:l,onMouseDown:d}=e,p=m(e,$),{disabled:u,expanded:b,selected:C,focused:h,handleExpansion:j,handleSelection:x,preventSelection:T}=y(c),k=s||r||a;return v("div",f({className:g(n,t.root,b&&t.expanded,C&&t.selected,h&&t.focused,u&&t.disabled),onClick:e=>{j(e),x(e),l&&l(e)},onMouseDown:e=>{T(e),d&&d(e)},ref:o},p,{children:[I("div",{className:t.iconContainer,children:k}),I("div",{className:t.label,children:i})]}))}));"production"!==process.env.NODE_ENV&&(M.propTypes={classes:u.object,className:u.string,displayIcon:u.node,expansionIcon:u.node,icon:u.node,label:u.node,nodeId:u.string.isRequired,onClick:u.func,onMouseDown:u.func});var E=M;const R=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],D=b("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,o)=>o.root})({listStyle:"none",margin:0,padding:0,outline:0}),S=b(E,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,o)=>[o.content,o.iconContainer&&{[`& .${c.iconContainer}`]:o.iconContainer},o.label&&{[`& .${c.label}`]:o.label}]})((({theme:e})=>({padding:"0 8px",width:"100%",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${c.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${c.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${c.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:O(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:O(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:O(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${c.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:O(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${c.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${c.label}`]:f({width:"100%",minWidth:0,paddingLeft:4,position:"relative"},e.typography.body1)}))),P=b(j,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,o)=>o.group})({margin:0,padding:0,marginLeft:17}),F=t.forwardRef((function(e,o){const n=x({props:e,name:"MuiTreeItem"}),{children:a,className:r,collapseIcon:s,ContentComponent:i=E,ContentProps:c,endIcon:u,expandIcon:b,disabled:y,icon:k,id:N,label:O,nodeId:$,onClick:M,onMouseDown:F,TransitionComponent:L=j,TransitionProps:W}=n,_=m(n,R),{icons:A={},focus:z,isExpanded:B,isFocused:G,isSelected:V,isDisabled:q,multiSelect:H,disabledItemsFocusable:U,mapFirstChar:Y,unMapFirstChar:Z,registerNode:J,unregisterNode:K,treeId:Q}=t.useContext(h);let X=null;null!=N?X=N:Q&&$&&(X=`${Q}-${$}`);const[ee,oe]=t.useState(null),te=t.useRef(null),ne=T(oe,o),ae=t.useMemo((()=>({element:ee,id:$})),[$,ee]),{index:re,parentId:se}=l(ae),ie=Boolean(Array.isArray(a)?a.length:a),ce=!!B&&B($),le=!!G&&G($),de=!!V&&V($),pe=!!q&&q($),me=f({},n,{expanded:ce,focused:le,selected:de,disabled:pe}),ue=(e=>{const{classes:o}=e;return C({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},p,o)})(me);let fe,ge,be;return ie&&(ge=ce?s||A.defaultCollapseIcon:b||A.defaultExpandIcon),fe=ie?A.defaultParentIcon:u||A.defaultEndIcon,t.useEffect((()=>{if(J&&K&&-1!==re)return J({id:$,idAttribute:X,index:re,parentId:se,expandable:ie,disabled:y}),()=>{K($)}}),[J,K,se,re,$,ie,y,X]),t.useEffect((()=>{if(Y&&Z&&O)return Y($,te.current.textContent.substring(0,1).toLowerCase()),()=>{Z($)}}),[Y,Z,$,O]),H?be=de:de&&(be=!0),v(D,f({className:g(ue.root,r),role:"treeitem","aria-expanded":ie?ce:null,"aria-selected":be,"aria-disabled":pe||null,ref:ne,id:X,tabIndex:-1},_,{ownerState:me,onFocus:function(e){if(e.target===e.currentTarget){let o;o="function"==typeof e.target.getRootNode?e.target.getRootNode():w(e.target),o.getElementById(Q).focus({preventScroll:!0})}const o=!U&&pe;le||e.currentTarget!==e.target||o||z(e,$)},children:[I(S,f({as:i,ref:te,classes:{root:ue.content,expanded:ue.expanded,selected:ue.selected,focused:ue.focused,disabled:ue.disabled,iconContainer:ue.iconContainer,label:ue.label},label:O,nodeId:$,onClick:M,onMouseDown:F,icon:k,expansionIcon:ge,displayIcon:fe,ownerState:me},c)),a&&I(d,{id:$,children:I(P,f({as:L,unmountOnExit:!0,className:ue.group,in:ce,component:"ul",role:"group"},W,{children:a}))})]}))}));"production"!==process.env.NODE_ENV&&(F.propTypes={children:u.node,classes:u.object,className:u.string,collapseIcon:u.node,ContentComponent:k,ContentProps:u.object,disabled:u.bool,endIcon:u.node,expandIcon:u.node,icon:u.node,id:u.string,label:u.node,nodeId:u.string.isRequired,onClick:u.func,onFocus:N,onMouseDown:u.func,sx:u.oneOfType([u.arrayOf(u.oneOfType([u.func,u.object,u.bool])),u.func,u.object]),TransitionComponent:u.elementType,TransitionProps:u.object});var L=F,W=r({name:"TreeItem"})((function(o){var t,n;return{content:(t={color:o.palette.content.muted},t["& .".concat(c.label)]=e(e({},o.typography.largeLabel2),{padding:4}),t["& .".concat(c.iconContainer)]={width:18,marginRight:6},t["&.".concat(c.selected)]={color:o.palette.content.standard},t["&.".concat(c.selected," .").concat(c.label)]=e(e({},o.typography.largeLabel1),{fontWeight:s.fontWeightMedium}),t),root:(n={},n["& .".concat(c.content,".").concat(c.focused,".").concat(c.selected,", & .").concat(c.content,".").concat(c.selected)]={backgroundColor:"".concat(o.palette.states.selected),"&:hover":{backgroundColor:"".concat(o.palette.states.selected)}},n),group:{marginLeft:24}}})),_=a((function(t,a){var r=t.children,s=t.classes,c=t.className,l=o(t,["children","classes","className"]),d=W(void 0,{props:{classes:i(s,c)}});return n.createElement(L,e({},l,{classes:d.classes,ref:a}),r)}));export{_ as default};
